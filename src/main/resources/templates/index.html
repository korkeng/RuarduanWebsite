<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{layouts/main}">
	<body>
        <div layout:fragment="content">
            <section id="main-content">
                <section class="wrapper">
                    <script src="js/manage-graph.js"></script>
                    <div class="market-updates">  
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-2">
                                <div class="col-md-4 market-update-right">
                                    <i class="fa fa-ticket" aria-hidden="true"></i>
                                </div>
                                <div class="col-md-8 market-update-left">
                                    <h4>Online Tickets</h4>
                                    <h3 id="count-ticket"></h3>
                                </div>
                              <div class="clearfix"> </div>
                            </div>
                        </div>
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-1">
                                <div class="col-md-4 market-update-right">
                                    <i class="fa fa-usd"></i>
                                </div>
                                <div class="col-md-8 market-update-left">
                                    <h4>Sales</h4>
                                    <h3 id="total-price"></h3>
                                </div>
                              <div class="clearfix"> </div>
                            </div>
                        </div>
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-4">
                                <div class="col-md-4 market-update-right">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                </div>
                                <div class="col-md-8 market-update-left">
                                    <h4>Passengers</h4>
                                    <h3 id="total-people"> </h3>
                                </div>
                              <div class="clearfix"></div>
                            </div>
                        </div>
                        
                       <div class="clearfix"> </div>
                    </div>
                    <!-- <div class="market-updates">  
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-2">
                                <div class="col-md-4 market-update-right">
                                   <i class="fa fa-eye"></i> 
                                </div>
                                <div class="col-md-8 market-update-left">
                                <h4>Visitors</h4>
                                    <h3>17,250</h3>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                        </div>
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-1">
                                <div class="col-md-4 market-update-right">
                                    <i class="fa fa-usd"></i>
                                </div>
                                <div class="col-md-8 market-update-left">
                                    <h4>Sales</h4>
                                    <h3>1,500</h3>
                                </div>
                              <div class="clearfix"> </div>
                            </div>
                        </div>
                        <div class="col-md-4 market-update-gd">
                            <div class="market-update-block clr-block-4">
                                <div class="col-md-4 market-update-right">
                                    <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                </div>
                                <div class="col-md-8 market-update-left">
                                    <h4>Orders</h4>
                                    <h3>1,200</h3>
                                </div>
                              <div class="clearfix"> </div>
                            </div>
                        </div>
                        
                       <div class="clearfix"> </div>
                    </div> -->
                    <div class="row">
                        <div class="panel-body">
                            <div class="col-md-12 w3ls-graph">
                                <div class="agileinfo-grap">
                                    <div class="agileits-box">
                                        <header class="agileits-box-header clearfix">
                                            <div class="toolbar"></div>
                                        </header>
                                        <div class="agileits-box-body clearfix">
                                            <div id="container" style=" margin: 0 auto"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="container" style="height: 400px; min-width: 600px; max-width: 800px; margin: 0 auto"></div>
                              <!--   <script>
                                             $.ajax({
                                            type: "GET",
                                            url: "https://ruarduan-backend.com/tickets",
                                            dataType: 'json',
                                            success: function (data) {
                                                var aggregatedObject = Enumerable.From(data)
                                            .GroupBy("$.status", null,
                                                     function (key, g) {
                                                         return {
                                                           status: key,
                                                           price: g.Sum("$.price"),
                                                           people: g.Sum("$.people")
                                                         }

                                            })
                                            .ToArray();
                                            var i;
                                            for (i in aggregatedObject) {
                                                console.log("testLoop: "+aggregatedObject[i].status + " " + aggregatedObject[i].people + " " + aggregatedObject[i].price);
                                            }
                                            console.log(aggregatedObject); 
                                            console.log("array[0].price: "+aggregatedObject[0].price);   
                                            console.log("array[1].price: "+aggregatedObject[1].price);  
                                            console.log("array[0].people: "+aggregatedObject[0].people);  
                                            console.log("array[1].people: "+aggregatedObject[1].people);   

                                            },
                                            error: function (e) {
                                                console.log("Error:"+e);
                                            }
                                        });
                                </script> -->
                            </div>
                        </div>
                    </div>
                </section>
            </section>
        </div>
    </body>
</html>
